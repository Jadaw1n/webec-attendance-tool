<script>
    $("#registerForm").submit(event => {
        event.preventDefault();

        const data = getFormData("registerForm");

        api("auth/register", data).then(msg => {
            if (msg.status === "success") {
                // reset form and go to login page.
                Notifications.push("Registration erfolgreich, bitte einloggen!");
                $("#registerForm")[0].reset();
                window.location.hash = "login";
            } else {
                // show errors
                $("#registerForm errors").text(msg.message);
            }
        });

        return false;
    });
</script>

<div class="row title">
    <div class="col-xs-12">
        <h1>Registrieren</h1>
        <p>Auf dieser Seite k√∂nnen Sie sich registrieren</p>
    </div>
</div>

<div class="row">
    <div class="col-xs-offset-1 col-xs-10 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4 well module">
        <h2>Registrieren</h2>
        <hr>
        <form role="form" id="registerForm">
            <errors />
            <div class="form-group">
                <label for="email" class="control-label">E-Mail Adresse</label>
                <input type="text" id="email" name="email" class="form-control" placeholder="E-Mail Adresse">
            </div>
            <div class="form-group">
                <label for="password" class="control-label">Passwort</label>
                <input type="password" id="password" name="password" class="form-control" placeholder="Passwort">
            </div>
            <div class="form-group">
                <label for="organisation" class="control-label">Verein</label>
                <input type="text" id="organisation" name="organisation" class="form-control" placeholder="Verein">
            </div>
            <button class="btn btn-md btn-primary btn-block" type="submit">Registrieren</button>
        </form>
        <hr>
        <h3>Sie haben bereits ein Benutzerkonto?</h3>
        <p><a href="#login" class="underline">Hier gehts zum Login</a></p>
    </div>
</div>